<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns:api="http://www.ioexception.de/rest-api-doc" xmlns="http://www.w3.org/1999/xhtml">
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shCore.css" rel="stylesheet" type="text/css">
<link href="http://alexgorbatchev.com/pub/sh/current/styles/shThemeRDark.css" rel="stylesheet" type="text/css">
<script src="http://alexgorbatchev.com/pub/sh/current/scripts/shCore.js" type="text/javascript"></script><script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushJScript.js" type="text/javascript"></script><script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushXml.js" type="text/javascript"></script><script src="http://alexgorbatchev.com/pub/sh/current/scripts/shBrushPlain.js" type="text/javascript"></script>
<style type="text/css">
			
body {
	background: #FFF;
	color: #333;
	font: normal 100% sans-serif;
margin-left: auto;
	margin-right: auto;

	line-height: 1.5;
	width:66%;
}


.uripart {
	background:#666;
	color: #fff;
	font-style: italic;
}


h1,h2,h3,h4,h5,h6 {
	color: #444;
	font-weight: normal;
	line-height: 1;
	margin-bottom: 0.6em;
	font-family:  Helvetica, sans-serif;

}
h4,h5,h6 {font-weight: bold;}

h1 {font-size: 2.6em;}
h2 {font-size: 2em;margin-top:3em;}
h3 {font-size: 1.5em;margin-top:1.5em;}
h4 {font-size: 1.25em;}
h5 {font-size: 1.1em;}
h6 {font-size: 1em;}

h1 img, h2 img, h3 img, h4 img, h5 img, h6 img {margin: 0;}

pre {
	font: normal 100% monospace; 
}


dl { padding: 0.5em; } dt { background:#fff; float: left; clear: left; padding-left:0.3em; padding-right:0.3em;  text-align: right; }  dd { margin: 0 0 0 110px; padding: 0 0 0.5em 0; }

.statuscode, .method {
	font: bold 100% monospace; 
}

#watermark {
        position:fixed; 
        left:0px; 
        top:0px;
        width:32px;
        height:100%;
        background-color:#EEE;
        padding:0px;
        margin:0px;
} 



#watermark-text {
	color:#999;
	border:0px solid red;
	writing-mode:tb-rl;
	-webkit-transform:rotate(90deg);
	-moz-transform:rotate(90deg);
	-o-transform: rotate(90deg);
	white-space:nowrap;
	display:block;
	bottom:0px;
	width:20px;
	height:20px;
	font-family: Helvetica, sans-serif;
	letter-spacing: 5px;
	font-size:24px;
	font-weight:normal;
	text-shadow: 0px 0px 1px #999;
	padding:0 10px 10px 5px;
}

#watermark-text span{
	padding-left: 30px;
}

#sidemenu {
z-index:300;  display:none;margin: 0;  text-align:left;
}

#sidemenu  li{
	font-size: 0.8em;
}
#sidemenu  li a{
	color: #333;
	font-weight:bold;
}

#sidemenuopener{
z-index:300; color: #333; background-color: #EEEEEE; border:1px solid #DDD; margin: 0;  position: fixed; top: 16px;  left: auto;  width: 56px;  right: 0px; text-align:center;
min-height:32px;
}

#sidemenuopener a{
	color: #333;
	font-weight:bold;
}

a{
	text-decoration: none;
}

#sidemenuopenerbox{
	position: fixed; right:12px;
}

.shadow {
	-moz-box-shadow: 2px 2px 3px #333;
	-webkit-box-shadow: 2px 2px 3px #333;
	box-shadow: 2px 2px 3px #333;
	/* For IE 8 */
	-ms-filter: "progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#333333')";
	/* For IE 5.5 - 7 */
	filter: progid:DXImageTransform.Microsoft.Shadow(Strength=3, Direction=135, Color='#333333');
	
}
.query_string_param{
	margin-bottom: 7px;
}


			</style>
<script type="text/javascript">
					SyntaxHighlighter.all();
			</script><script type="text/javascript">
			function showElement(layer,sx,t1,t2){
			var l = document.getElementById(layer);
			var s = document.getElementById(sx);
			if(l.style.display=="none"){
			l.style.display="block";
			l.backgroundPosition="top";
			s.innerHTML= t2;
			} else {
			l.style.display="none";
			s.innerHTML= t1;
			}
			}
			
			function boxSize(x,a,b){
				var el = document.getElementById(x);
				if(el.style.width === a){
					el.style.width = b;
				}
				else{
					el.style.width = a;
				}
			}
			
			</script>
<title>PayParrot API - RESTful API Documentation</title>
</head>
<body>
<div id="watermark">
<div id="watermark-text">
<span>PayParrot API</span><span>v1</span>
</div>
</div>
<div id="sidemenuopener" class="shadow">
<div id="sidemenuopenerbox">
<a href="#" class="button" id="menuopener" onclick="javascript:showElement('sidemenu','menuopener','TOC','X'); boxSize('sidemenuopener','25%','56px'); return false;">TOC</a>
</div>
<ol id="sidemenu" style="display:none;">
<li>
<a id="lN65566" href="#" onclick="javascript:showElement('XN65566','lN65566','[+]','[-]'); return false;">
						[+]
					</a> <a href="#N65566">Parrot</a>
<ol id="XN65566" style="display:none;">
<li>
<a href="#N65584">List all parrots</a>
</li>
<li>
<a href="#N65706">Delete a Parrot</a>
</li>
</ol>
</li>
<li>
<a id="lN65758" href="#" onclick="javascript:showElement('XN65758','lN65758','[+]','[-]'); return false;">
						[+]
					</a> <a href="#N65758">Notification</a>
<ol id="XN65758" style="display:none;">
<li>
<a href="#N65776">Get a notification</a>
</li>
</ol>
</li>
</ol>
</div>
<h1>PayParrot API</h1>
<a name="introduction"></a>
<h2>Introduction</h2>
<h4>Version</h4>
<p>v1</p>
<h4>Author</h4>
<p>PayParrot Team</p>
<h4>Description</h4>
<p>The following document describe the RESTful API of the PayParrot Service. </p>
<h4>Authentication Schemes</h4>
<p>
<ul>
<li>Private Token. This has to be sent as a "token" parameter of query string, with each API call. Example: ?token=XXX</li>
</ul>
</p>
<h4>Base URI</h4>
<p>
<a xmlns="" href="http://payparrot.com">http://payparrot.com</a>
</p>
<a name="index"></a>
<h2>Index of Resources and Operations</h2>
<ol>
<li xmlns="http://www.w3.org/1999/xhtml">
<a href="#N65566">Parrot</a>
<ol>
<li>
<a href="#N65584">List all parrots</a>
</li>
<li>
<a href="#N65706">Delete a Parrot</a>
</li>
</ol>
</li>
<li>
<a href="#N65758">Notification</a>
<ol>
<li>
<a href="#N65776">Get a notification</a>
</li>
</ol>
</li>
</ol>
<a xmlns="" name="N65566"></a>
<h2 class="resource">1. Parrot</h2>
<h4>Description</h4>
<p>This resource represents a user (parrot) which will be paying with a social network. </p>
<h4>Resource URI</h4>
<pre>http://payparrot.com/accounts/<span class="uripart">{account-id}</span>/parrots/<span class="uripart">{parrot-id}</span>
</pre>
<dl>
<dt class="uripart">account-id</dt>
<dd>account ID</dd>
<dt class="uripart">parrot-id</dt>
<dd>parrot ID</dd>
</dl>
<a name="N65584"></a>
<h3 class="operation">1.1 List all parrots</h3>
<h4>Description</h4>List all parrots, you can filter them by date.<h4>URI</h4>
<pre>http://payparrot.com/accounts/<span class="uripart">{account-id}</span>/parrots</pre>
<h4>URI Parameters</h4>
<dl>
<dt class="uripart">{account-id}</dt>
<dd>account ID</dd>
</dl>
<h4>HTTP Method</h4>
<span class="method">GET</span>
<h4>Resource Formats</h4>
<ul>
<li>application/json</li>
</ul>
<h4>Authentication</h4>required<h4>Request Query String</h4>
						
<dl class="query_string_param">
<dt class="name">Name: </dt>
<dd>from</dd>
<dt class="name">Require: </dt>
<dd>false</dd>
<dt class="name">Description: </dt>
<dd>Parrot with suscription date greater or equal to (from). Example format: 2011-11-4</dd>
</dl>
						
<dl class="query_string_param">
<dt class="name">Name: </dt>
<dd>to</dd>
<dt class="name">Require: </dt>
<dd>false</dd>
<dt class="name">Description: </dt>
<dd>Parrot with suscription date less or equal to (to). Example format: 2011-12-4</dd>
</dl>
						
<dl class="query_string_param">
<dt class="name">Name: </dt>
<dd>screen_name</dd>
<dt class="name">Require: </dt>
<dd>false</dd>
<dt class="name">Description: </dt>
<dd>Filter parrots by parrot twitter name</dd>
</dl>
						
<dl class="query_string_param">
<dt class="name">Name: </dt>
<dd>limit</dd>
<dt class="name">Require: </dt>
<dd>false</dd>
<dt class="name">Description: </dt>
<dd>Limit the number of results. Default to 10</dd>
</dl>
						
<dl class="query_string_param">
<dt class="name">Name: </dt>
<dd>skip</dd>
<dt class="name">Require: </dt>
<dd>false</dd>
<dt class="name">Description: </dt>
<dd>Skip results. Default to 0</dd>
</dl>
					
<h4>Request Entities</h4>n/a<h4>Responses</h4>
<dl>
<dt class="statuscode">200 OK</dt>
<dd>The data set is returned as the response entity.</dd>
<dt class="statuscode">404 Not Found</dt>
<dd>There is no account with that account ID.</dd>
</dl>
<h4>Response Entities</h4>
						
							
<pre class="brush: js">
								
[{
    "id": "4fbe4b1e87812bc746000020",
    "_id": "4fbe4b1e87812bc746000020",
    "oauth_token": "YYY",
    "oauth_token_secret": "ZZZ",
    "twitter_id": "572860329",
    "twitter_info": {},
    "payments": [{
        "created_at": "Thu May 24 14:52:43 +0000 2012",
        "text": "First message of fast clapping! http://t.co/ecXrNPKT",
        "account_id": "4fbba86cb968d5c51a000002"
    }],
    "created_at": "2012-05-24T14:52:14.768Z"
}]
</pre>
							The data returned when listing all parrots.
						
					<a name="N65706"></a>
<h3 class="operation">1.2 Delete a Parrot</h3>
<h4>Description</h4>When you want to unsuscribe a parrot, you should send Delete a Parrot instruction.<h4>URI</h4>
<pre>http://payparrot.com/accounts/<span class="uripart">{account-id}</span>/parrots/<span class="uripart">{parrot-id}</span>
</pre>
<h4>URI Parameters</h4>
<dl>
<dt class="uripart">{account-id}</dt>
<dd>account ID</dd>
<dt class="uripart">{parrot-id}</dt>
<dd>parrot ID</dd>
</dl>
<h4>HTTP Method</h4>
<span class="method">DELETE</span>
<h4>Resource Formats</h4>
<ul>
<li>application/json</li>
</ul>
<h4>Authentication</h4>required<h4>Request Query String</h4>
<h4>Request Entities</h4>n/a<h4>Responses</h4>
<dl>
<dt class="statuscode">204 No Content</dt>
<dd>The parrot was deleted, no data is returned.</dd>
<dt class="statuscode">404 Not Found</dt>
<dd>There is no parrot or account with that ID.</dd>
</dl>
<h4>Response Entities</h4>n/a<a name="N65758"></a>
<h2 class="resource">2. Notification</h2>
<h4>Description</h4>
<p>Each time an action is trigger in payparrot (new parrot, a payment is processed, etc) a notification is send to your servers. </p>
<h4>Resource URI</h4>
<pre>http://payparrot.com/accounts/<span class="uripart">{account-id}</span>/notifications/<span class="uripart">{notification-id}</span>
</pre>
<dl>
<dt class="uripart">account-id</dt>
<dd>account ID</dd>
<dt class="uripart">notification-id</dt>
<dd>notification ID</dd>
</dl>
<a name="N65776"></a>
<h3 class="operation">2.1 Get a notification</h3>
<h4>Description</h4>With your account-id and notification-id, you can get the notification, to validate if was send by PayParrot<h4>URI</h4>
<pre>http://payparrot.com/accounts/<span class="uripart">{account-id}</span>/notifications/<span class="uripart">{notification-id}</span>
</pre>
<h4>URI Parameters</h4>
<dl>
<dt class="uripart">{account-id}</dt>
<dd>account ID</dd>
<dt class="uripart">{notification-id}</dt>
<dd>notification ID</dd>
</dl>
<h4>HTTP Method</h4>
<span class="method">GET</span>
<h4>Resource Formats</h4>
<ul>
<li>application/json</li>
</ul>
<h4>Authentication</h4>required<h4>Request Query String</h4>
<h4>Request Entities</h4>n/a<h4>Responses</h4>
<dl>
<dt class="statuscode">200 OK</dt>
<dd>The data set is returned as the response entity.</dd>
<dt class="statuscode">404 Not Found</dt>
<dd>There is no with this user ID.</dd>
</dl>
<h4>Response Entities</h4>
						
							
<pre class="brush: js">
								
{ queue_message_id: '029a2778-0e88-4d17-8cf9-2791c762bd67',
suscription_id: 4fccba33a5850b9403000001,
account_id: 4fccba336b34ac8803000030,
external_id: '4fccba33a5850b9403000002',
parrot_id: '4fccba33a5850b9403000003',
request_url: 'http://localhost:3000',
type: 'suscription_activated',
status: 'pending',
id: 4fccba33615bc49403000002 }</pre>
							The data returned from validating a notification.
						
					</body>
</html>
